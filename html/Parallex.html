<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../sass/parallex.css">
</head>
<body>
    <section>
        <ul>
            <li class="scroll" data-rate = '-0.5' data-direction="vertical">Hello</li>
            <li>I'm</li>
            <li class="scroll" data-rate = '0.5' data-direction="vertical">Runner</li>
        </ul>
        <span class="scroll" data-rateY="-1" data-rateX="4.5" data-direction="horizontal"></span>
    </section>
    <section></section>

    <script>
        window.addEventListener('scroll', function (e){

            const target = document.querySelectorAll('.scroll');

            // var scrolled = window.pageYOffset;
            // var rate = scrolled * 0.5;
            // target.style.transform = 'translateY('+rate+'px)';

            for(var i = 0 ; i < target.length; i++){
                var pos = window.pageYOffset * target[i].dataset.rate;
                
                if(target[i].dataset.direction == "vertical"){
                    target[i].style.transform = 'translateY('+pos+'px)';
                }
                else{
                    var posX = window.pageYOffset * target[i].dataset.ratex;
                    var posY = window.pageYOffset * target[i].dataset.ratey;
                    target[i].style.transform = 'translate('+posX+'px , '+posY+'px)';
                }
                
            }

        });
    </script>
</body>
</html>